<!DOCTYPE html>
<html lang="sk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Načítavam... - Dodo</title>
    <meta name="description" content="Detail príspevku">
    <link rel="icon" type="image/png" href="/favicon.png">

    <!-- Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>

    <!-- Theme Init (Prevent Flash) -->
    <script>
        (function () {
            var savedTheme = localStorage.getItem('preferredTheme') || 'dark';
            if (savedTheme === 'light') {
                document.documentElement.setAttribute('data-theme', 'light');
            }
        })();
    </script>

    <!-- Styles -->
    <link rel="stylesheet" href="/style.css?v=12">

    <!-- Marked for Markdown rendering -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- Scripts -->
    <script src="/script.js?v=12" defer></script>
    <script src="/post.js?v=2" defer></script>

    <!-- Umami Analytics -->
    <script defer src="https://analytics.carnaby.sk/script.js"
        data-website-id="0733e169-1bc1-4990-a65f-2442fbb00237"></script>
</head>

<body class="theme-dark">

    <!-- Background Ambient Effects -->
    <div class="ambient-bg">
        <div class="blob blob-purple"></div>
        <div class="blob blob-emerald"></div>
        <div class="blob blob-amber"></div>
        <div class="noise-overlay"></div>
    </div>

    <!-- Navigation -->
    <nav class="glass-nav">
        <div class="nav-container">
            <a href="/" class="nav-logo">
                <div class="logo-icon">
                    <iconify-icon icon="lucide:code-2"></iconify-icon>
                </div>
                <span>JS / DODO</span>
            </a>

            <div class="nav-items">
                <div class="nav-links hidden-mobile">
                    <a href="/" data-i18n="navAbout">O mne</a>
                    <a href="/category/devlog" data-i18n="navDev">DevLog</a>
                    <a href="/category/dodo">Dodo</a>
                    <a href="/category/carnaby">Carnaby</a>
                </div>

                <div class="nav-divider hidden-mobile"></div>

                <!-- Controls -->
                <div class="nav-controls">
                    <button id="theme-toggle" class="control-btn" aria-label="Toggle Theme">
                        <iconify-icon icon="lucide:moon" class="icon-moon"></iconify-icon>
                        <iconify-icon icon="lucide:sun" class="icon-sun"></iconify-icon>
                    </button>

                    <div class="lang-dropdown">
                        <button class="control-btn lang-btn">
                            <span id="current-lang">SK</span>
                            <iconify-icon icon="lucide:chevron-down"></iconify-icon>
                        </button>
                        <div class="lang-menu">
                            <button onclick="switchLanguage('sk')">Slovenčina</button>
                            <button onclick="switchLanguage('en')">English</button>
                        </div>
                    </div>

                    <!-- User Auth (Profile) -->
                    <div id="auth-section" class="auth-section">
                        <!-- Injected by JS -->
                        <a href="/auth/google" id="auth-login" class="control-btn" title="Login">
                            <iconify-icon icon="lucide:user"></iconify-icon>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main class="main-content">

        <div class="post-container" id="post-container">
            <!-- Loading Skeleton -->
            <div id="loading-skeleton" class="glass-panel" style="min-height: 400px;">
                <div class="skeleton skeleton-title" style="width: 60%; height: 40px; margin: 0 auto 30px auto;"></div>
                <div class="skeleton skeleton-media" style="height: 300px; border-radius: 12px;"></div>
                <div class="skeleton skeleton-text" style="width: 100%"></div>
                <div class="skeleton skeleton-text" style="width: 90%"></div>
                <div class="skeleton skeleton-text" style="width: 95%"></div>
            </div>

            <!-- Real Content (Hidden initially) -->
            <div id="post-content-wrapper" style="display: none;">

                <header class="post-top-bar animate-slide-up">
                    <!-- Left: Navigation -->
                    <div class="top-nav-group">
                        <a href="/" class="nav-icon-btn" title="Domov" data-i18n-title="navHome">
                            <iconify-icon icon="lucide:home"></iconify-icon>
                        </a>
                        <a href="#" id="back-to-category" class="nav-icon-btn" title="Späť na kategóriu"
                            data-i18n-title="navBackToCategory" style="display: none;">
                            <iconify-icon icon="lucide:arrow-left"></iconify-icon>
                        </a>
                    </div>

                    <!-- Right: Meta -->
                    <div class="top-meta-group">
                        <span id="post-date" class="meta-date"></span>
                        <a href="#" id="category-badge" class="category-pill">
                            <!-- Icon + Text injected via JS -->
                        </a>
                    </div>
                </header>

                <h1 id="post-title" class="post-main-title animate-slide-up delay-1"></h1>

                <div class="post-media animate-slide-up delay-1" id="post-media">
                    <!-- YouTube iframe or Image will be injected here -->
                </div>

                <div class="post-body glass-panel animate-slide-up delay-2" id="post-body">
                    <!-- Markdown content will be injected here -->
                </div>

                <div class="post-footer animate-slide-up delay-3">
                    <div class="footer-nav-group">
                        <a href="/" class="nav-icon-btn large" title="Domov" data-i18n-title="navHome">
                            <iconify-icon icon="lucide:home"></iconify-icon>
                        </a>
                        <a href="#" id="footer-back-to-category" class="nav-icon-btn large" title="Späť na kategóriu"
                            data-i18n-title="navBackToCategory" style="display: none;">
                            <iconify-icon icon="lucide:arrow-left"></iconify-icon>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Error State -->
            <div id="error-state" style="display: none; text-align: center; padding: 4rem 0;">
                <h2>⚠️ Príspevok sa nenašiel</h2>
                <p>Je nám ľúto, ale hľadaný príspevok neexistuje alebo bol odstránený.</p>
                <a href="/" class="btn-pill" style="margin-top: 1rem;">Späť na domov</a>
            </div>
        </div>

        <!-- Shared Footer -->
        <footer class="site-footer animate-slide-up delay-3" style="margin-top: 60px;">
            <div class="social-row">
                <a href="https://github.com/carnaby/carnaby.sk" target="_blank"
                    class="social-link hover-emerald">GitHub</a>
                <a href="https://x.com/jozef_sokol" target="_blank" class="social-link hover-amber">Twitter/X</a>
                <a href="https://www.youtube.com/@jozefsokol3820" target="_blank"
                    class="social-link hover-rose">YouTube</a>
                <a href="https://soundcloud.com/jozef-sokol" target="_blank" class="social-link hover-green">Spotify</a>
            </div>
            <p>&copy; <span id="year">2024</span> Jozef Sokol. Code & Music.</p>
        </footer>

    </main>

</body>

</html>